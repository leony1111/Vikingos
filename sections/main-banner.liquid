{{ 'main-banner.css' | asset_url | stylesheet_tag }}

<div class="main-banner-slider">
    {% for block in section.blocks %}
        {%- if block.settings.slider_image != blank -%}
            <div class="main-banner-slide">
                <div class="main-banner-content {{block.settings.class_container}}" style="background-image:url({{ block.settings.slider_image | img_url: '1550x870' }});">
                    <div class="container">
                        <div class="content">
                            <h4 class="subtitle">{{ block.settings.slider_subtitle }}</h4>
                            <h1 class="title">{{ block.settings.slider_title }}</h1>
                        </div>
                        <a class="btn btn-theme" href="{{ block.settings.url }}">
                            {{ block.settings.btn_text }}
                            <img src="https://cdn.shopify.com/s/files/1/0737/5916/2654/files/btn-arrow.png?v=1683676155" alt="">
                        </a>
                    </div>
                </div>
            </div>
        {%- endif -%}
    {% endfor %}
</div>

{% schema %}
    {
        "name": "Main Banner",
        "class": "section-main-banner vk-main-banner",
        "tag": "section",
        "settings": [
            {
                "type": "text",
                "id": "text",
                "label": "Title"
            }
        ],
        "blocks": [
            {
                "name": "Sliders",
                "type": "home",
                "settings": [
                    {
                        "type": "image_picker",
                        "id": "slider_image",
                        "label": "Image"
                    },
                    {
                        "type": "textarea",
                        "id": "slider_title",
                        "label": "Title"
                    },
                    {
                        "type": "textarea",
                        "id": "slider_subtitle",
                        "label": "Subtitle"
                    },
                    {
                        "type": "text",
                        "id": "btn_text",
                        "label": "Text Button"
                    }, {
                        "type": "url",
                        "id": "url",
                        "label": "link"
                    }, {
                        "type": "text",
                        "id": "class_container",
                        "label": "Custom Class"
                    }
                ]
            }
        ],
        "presets": [
            {
                "name": "Main Banner",
                "category": "Text"
            }
        ]
    }
{% endschema %}

<script>
    // Slick all site
    jQuery(document).ready(function($) {
        $(".main-banner-slider").slick({
            infinite: true,
            slidesToShow: 1,
            slidesToScroll: 1,
            dots: true,
            arrows: false,
            responsive: [
                {
                    breakpoint: 767,
                    settings: {
                        slidesToShow: 1,
                        slidesToScroll: 1,
                        arrows: false
                    }
                }
            ]
        });
    });
</script>