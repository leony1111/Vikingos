{{ 'season.css' | asset_url | stylesheet_tag }}

<div class="container">
    {% if section.settings.title %}
        <h2 class="season-products-title">{{ section.settings.title }}</h2>
    {% endif %}

    {% if section.blocks %}
        <div class="season-products-slider">
            {% for block in section.blocks %}
                {%- if block.settings.slider_image != blank -%}
                    <div class="product-item">
                        <div class="product-item-inner" style="background-image:url({{ block.settings.slider_image | img_url: '1550x870' }});">
                            <a class="btn btn-theme btn2" href="{{ block.settings.url }}">
                                {{ block.settings.btn_text }}
                            </a>
                        </div>
                    </div>
                {%- endif -%}
            {% endfor %}
        </div>
    {%- endif -%}
</div>

{% schema %}
    {
        "name": "Season Products",
        "class": "section-season-products vk-season-products",
        "tag": "section",
        "settings": [
            {
                "type": "text",
                "id": "title",
                "label": "Title"
            }
        ],
        "blocks": [
            {
                "name": "Sliders",
                "type": "home",
                "settings": [
                    {
                        "type": "image_picker",
                        "id": "slider_image",
                        "label": "Image"
                    }, {
                        "type": "text",
                        "id": "btn_text",
                        "label": "Text Button"
                    }, {
                        "type": "url",
                        "id": "url",
                        "label": "link"
                    }
                ]
            }
        ],
        "presets": [
            {
                "name": "Season Products",
                "category": "Text"
            }
        ]
    }
{% endschema %}

<script>
    // Slick all site
    jQuery(document).ready(function($) {
        $(".season-products-slider").slick({
            infinite: true,
            slidesToShow: 3,
            slidesToScroll: 1,
            dots: true,
            arrows: true,
            responsive: [
                {
                    breakpoint: 991,
                    settings: {
                        slidesToShow: 2,
                        slidesToScroll: 1
                    }
                }, {
                    breakpoint: 767,
                    settings: {
                        slidesToShow: 1,
                        slidesToScroll: 1
                    }
                }
            ]
        });
    });
</script>